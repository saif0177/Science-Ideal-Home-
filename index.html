<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Science Ideal Home ‚Äì Hostel Management</title>
  <meta name="theme-color" content="#1e88e5" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css" />
  <!-- Optional icons: lucide -->
  <script defer src="https://unpkg.com/lucide@0.446.0/dist/umd/lucide.js"></script>
</head>
<body>
  <!-- Fixed App Bar / Navbar -->
  <header class="app-bar">
    <div class="brand">
      <div class="brand-logo" aria-hidden="true">üè´</div>
      <div class="brand-text">
        <div class="brand-title">Science Ideal Home</div>
        <div class="brand-sub">Hostel Management</div>
      </div>
    </div>
    <nav class="tabs" role="tablist" aria-label="Main Navigation">
      <button class="tab is-active" data-route="dashboard" role="tab" aria-selected="true">
        <i data-lucide="layout-dashboard" class="icon"></i>
        <span>Dashboard</span>
      </button>
      <button class="tab" data-route="students" role="tab" aria-selected="false">
        <i data-lucide="users" class="icon"></i>
        <span>Student</span>
      </button>
      <button class="tab" data-route="staff" role="tab" aria-selected="false">
        <i data-lucide="wallet" class="icon"></i>
        <span>Salary / Expenses</span>
      </button>
      <button class="tab" data-route="calculator" role="tab" aria-selected="false">
        <i data-lucide="calculator" class="icon"></i>
        <span>Calculator</span>
      </button>
    </nav>
  </header>

  <!-- App Content Wrapper (below fixed navbar) -->
  <main id="app" class="app">
    <!-- Dashboard Screen -->
    <section id="screen-dashboard" class="screen" data-screen="dashboard" aria-labelledby="heading-dashboard">
      <h2 id="heading-dashboard" class="screen-title">Dashboard</h2>
      <div class="card placeholder">
        <div class="placeholder-icon">‚ú®</div>
        <div class="placeholder-title">Coming Soon</div>
        <p class="placeholder-text">
          This dashboard will show total students, pending payments, salary overview, and monthly expenses.
        </p>
        <button id="btn-sync-drive" class="btn btn-outline" disabled>
          <i data-lucide="cloud" class="icon"></i>
          <span>Sync with Google Drive (Coming Soon)</span>
        </button>
      </div>
    </section>

    <!-- Students Screen -->
    <section id="screen-students" class="screen" data-screen="students" aria-labelledby="heading-students" hidden>
      <h2 id="heading-students" class="screen-title">Students</h2>

      <div class="toolbar">
        <div class="search-group">
          <i data-lucide="search" class="icon"></i>
          <input id="student-search" class="input" type="search" placeholder="Search by Name, Roll, or ID" />
        </div>
        <div class="filters">
          <button id="filter-status-present" class="chip" data-filter="status" data-value="present">Present</button>
          <button id="filter-status-ex" class="chip" data-filter="status" data-value="ex">Ex-student</button>
          <button id="filter-pay-complete" class="chip" data-filter="pay" data-value="complete">Salary Complete</button>
          <button id="filter-pay-due" class="chip" data-filter="pay" data-value="pending">Salary Arrears</button>
        </div>
        <div class="actions">
          <button id="btn-add-student" class="btn btn-primary">
            <i data-lucide="user-plus" class="icon"></i>
            <span>Add Student</span>
          </button>
        </div>
      </div>

      <div id="students-list" class="list"></div>
    </section>

    <!-- Staff / Expenses Screen -->
    <section id="screen-staff" class="screen" data-screen="staff" aria-labelledby="heading-staff" hidden>
      <h2 id="heading-staff" class="screen-title">Staff Salary / Expenses</h2>

      <div class="toolbar">
        <div class="actions">
          <button id="btn-add-staffexpense" class="btn btn-primary">
            <i data-lucide="plus" class="icon"></i>
            <span>Add Entry</span>
          </button>
        </div>
      </div>

      <div id="staffexpense-list" class="list"></div>
    </section>
  </main>

  <!-- Fullscreen Overlays / Modals -->
  
  <!-- Student Profile (Fullscreen panel) -->
  <section id="panel-student-profile" class="panel" aria-hidden="true" hidden>
    <header class="panel-bar">
      <button class="icon-btn" data-close-panel="panel-student-profile" aria-label="Close">
        <i data-lucide="arrow-left"></i>
      </button>
      <div class="panel-title">Student Profile</div>
      <div></div>
    </header>
    <div class="panel-body">
      <div class="profile-header">
        <img id="profile-photo" class="avatar" alt="Profile photo" />
        <div class="profile-names">
          <div id="profile-name" class="title"></div>
          <div id="profile-meta" class="sub"></div>
          <div id="profile-tags" class="tags"></div>
        </div>
      </div>

      <div class="grid">
        <div class="card">
          <div class="card-title">Details</div>
          <div class="kv">
            <div><span>Father's Name</span><strong id="profile-father-name"></strong></div>
            <div><span>Father's Job</span><strong id="profile-father-job"></strong></div>
            <div><span>Phone</span><strong id="profile-phone"></strong></div>
            <div><span>Address</span><strong id="profile-address"></strong></div>
            <div><span>More</span><strong id="profile-more"></strong></div>
          </div>
        </div>

        <div class="card">
          <div class="card-title">Payment History</div>
          <div id="profile-payments" class="timeline"></div>
        </div>
      </div>
    </div>
    <footer class="panel-actions">
      <button id="btn-profile-notice" class="btn btn-outline">
        <i data-lucide="bell"></i>
        <span>Notice</span>
      </button>
      <button id="btn-profile-payment" class="btn btn-primary">
        <i data-lucide="credit-card"></i>
        <span>Payment</span>
      </button>
      <button id="btn-profile-edit" class="btn btn-secondary">
        <i data-lucide="pencil"></i>
        <span>Edit</span>
      </button>
    </footer>
  </section>

  <!-- Student Form Modal -->
  <section id="modal-student-form" class="modal" role="dialog" aria-modal="true" aria-labelledby="student-form-title" hidden>
    <div class="modal-card">
      <header class="modal-bar">
        <div class="modal-title" id="student-form-title">Student</div>
        <button class="icon-btn" data-close-modal="modal-student-form" aria-label="Close">
          <i data-lucide="x"></i>
        </button>
      </header>
      <form id="student-form" class="form">
        <input type="hidden" id="student-id" />

        <div class="field photo-field">
          <label>Profile Photo</label>
          <div class="photo-input">
            <img id="student-photo-preview" class="avatar sm" alt="Preview" />
            <input id="student-photo" type="file" accept="image/*" />
          </div>
        </div>

        <div class="field">
          <label>Name</label>
          <input id="student-name" type="text" class="input" required />
        </div>
        <div class="field row">
          <div>
            <label>Roll</label>
            <input id="student-roll" type="text" class="input" />
          </div>
          <div>
            <label>Class & Group</label>
            <input id="student-class" type="text" class="input" placeholder="e.g., 10 Science" />
          </div>
        </div>
        <div class="field row">
          <div>
            <label>Phone</label>
            <div class="input-affix">
              <input id="student-phone" type="tel" class="input" />
              <button type="button" class="icon-btn" id="student-phone-wa" title="WhatsApp">
                <i data-lucide="message-circle"></i>
              </button>
            </div>
          </div>
          <div>
            <label>Secondary Phone</label>
            <input id="student-phone2" type="tel" class="input" />
          </div>
        </div>
        <div class="field">
          <label>Student ID</label>
          <input id="student-studentId" type="text" class="input" />
        </div>
        <div class="field">
          <label>Father's Name</label>
          <input id="student-fatherName" type="text" class="input" />
        </div>
        <div class="field row">
          <div>
            <label>Father's Phone 1</label>
            <div class="input-affix">
              <input id="student-fatherPhone1" type="tel" class="input" />
              <button type="button" class="icon-btn" id="student-fatherPhone1-wa" title="WhatsApp">
                <i data-lucide="message-circle"></i>
              </button>
            </div>
          </div>
          <div>
            <label>Father's Phone 2</label>
            <input id="student-fatherPhone2" type="tel" class="input" />
          </div>
        </div>
        <div class="field">
          <label>Father's Job</label>
          <input id="student-fatherJob" type="text" class="input" />
        </div>
        <div class="field">
          <label>Address</label>
          <input id="student-address" type="text" class="input" />
        </div>
        <div class="field">
          <label>More Details</label>
          <textarea id="student-details" class="textarea" rows="3"></textarea>
        </div>
        <div class="field">
          <label>Status</label>
          <select id="student-status" class="input">
            <option value="present">Present</option>
            <option value="ex">Ex-student</option>
          </select>
        </div>

        <footer class="modal-actions">
          <button type="button" class="btn" data-close-modal="modal-student-form">Cancel</button>
          <button type="submit" class="btn btn-primary">
            <i data-lucide="save"></i>
            <span>Save</span>
          </button>
        </footer>
      </form>
    </div>
  </section>

  <!-- Payment Form Modal -->
  <section id="modal-payment-form" class="modal" role="dialog" aria-modal="true" aria-labelledby="payment-form-title" hidden>
    <div class="modal-card">
      <header class="modal-bar">
        <div class="modal-title" id="payment-form-title">Payment</div>
        <button class="icon-btn" data-close-modal="modal-payment-form" aria-label="Close">
          <i data-lucide="x"></i>
        </button>
      </header>
      <form id="payment-form" class="form">
        <input type="hidden" id="payment-student-id" />

        <div class="field">
          <label>Payment Month</label>
          <input id="payment-month" type="month" class="input" required />
        </div>
        <div class="field row">
          <div>
            <label>Apartment Bill</label>
            <input id="payment-apartment" type="number" class="input" inputmode="decimal" value="0" />
          </div>
          <div>
            <label>Tuition Fee</label>
            <input id="payment-tuition" type="number" class="input" inputmode="decimal" value="0" />
          </div>
        </div>
        <div class="field row">
          <div>
            <label>Food Days</label>
            <input id="payment-food-days" type="number" class="input" inputmode="numeric" value="0" />
          </div>
          <div>
            <label>Daily Rate</label>
            <input id="payment-food-rate" type="number" class="input" inputmode="decimal" value="0" />
          </div>
        </div>
        <div class="field readonly">
          <label>Food Bill</label>
          <input id="payment-food-total" type="text" class="input" value="0" readonly />
        </div>
        <div class="field readonly">
          <label>Total</label>
          <input id="payment-total" type="text" class="input" value="0" readonly />
        </div>

        <footer class="modal-actions">
          <button type="button" class="btn" data-close-modal="modal-payment-form">Cancel</button>
          <button type="button" id="btn-print-receipt" class="btn btn-secondary">
            <i data-lucide="printer"></i>
            <span>Print Receipt</span>
          </button>
          <button type="submit" class="btn btn-primary">
            <i data-lucide="check"></i>
            <span>Pay</span>
          </button>
        </footer>
      </form>
    </div>
  </section>

  <!-- Notice Modal -->
  <section id="modal-notice" class="modal" role="dialog" aria-modal="true" aria-labelledby="notice-title" hidden>
    <div class="modal-card">
      <header class="modal-bar">
        <div class="modal-title" id="notice-title">Send Notice</div>
        <button class="icon-btn" data-close-modal="modal-notice" aria-label="Close">
          <i data-lucide="x"></i>
        </button>
      </header>
      <div class="form">
        <div class="field">
          <label>To (Phone)</label>
          <input id="notice-phone" type="tel" class="input" />
        </div>
        <div class="field">
          <label>Message</label>
          <textarea id="notice-message" class="textarea" rows="3" placeholder="Your payment for [Month] is pending. Please clear dues."></textarea>
        </div>
        <footer class="modal-actions">
          <button class="btn" data-close-modal="modal-notice">Cancel</button>
          <a id="notice-sms" class="btn btn-secondary" target="_blank" rel="noopener">
            <i data-lucide="sms"></i>
            <span>SMS</span>
          </a>
          <a id="notice-wa" class="btn btn-primary" target="_blank" rel="noopener">
            <i data-lucide="send"></i>
            <span>WhatsApp</span>
          </a>
        </footer>
      </div>
    </div>
  </section>

  <!-- Staff/Expense Form Modal -->
  <section id="modal-staffexpense" class="modal" role="dialog" aria-modal="true" aria-labelledby="staffexpense-title" hidden>
    <div class="modal-card">
      <header class="modal-bar">
        <div class="modal-title" id="staffexpense-title">Add Entry</div>
        <button class="icon-btn" data-close-modal="modal-staffexpense" aria-label="Close">
          <i data-lucide="x"></i>
        </button>
      </header>
      <form id="staffexpense-form" class="form">
        <input type="hidden" id="staffexpense-id" />
        <div class="field row">
          <div>
            <label>Type</label>
            <select id="staffexpense-type" class="input">
              <option value="staff">Staff Salary</option>
              <option value="expense">Expense</option>
            </select>
          </div>
          <div>
            <label>Status</label>
            <select id="staffexpense-status" class="input">
              <option value="not_paid">Not Paid</option>
              <option value="paid">Paid</option>
            </select>
          </div>
        </div>
        <div class="field">
          <label>Title</label>
          <input id="staffexpense-title-input" type="text" class="input" placeholder="e.g., Electricity Bill" required />
        </div>
        <div class="field">
          <label>Description</label>
          <input id="staffexpense-desc" type="text" class="input" />
        </div>
        <div class="field row">
          <div>
            <label>Amount</label>
            <input id="staffexpense-amount" type="number" class="input" inputmode="decimal" required />
          </div>
          <div>
            <label>Phone (optional)</label>
            <input id="staffexpense-phone" type="tel" class="input" />
          </div>
        </div>
        <footer class="modal-actions">
          <button type="button" class="btn" data-close-modal="modal-staffexpense">Cancel</button>
          <button type="submit" class="btn btn-primary">
            <i data-lucide="save"></i>
            <span>Save</span>
          </button>
        </footer>
      </form>
    </div>
  </section>

  <!-- Calculator Modal -->
  <section id="modal-calculator" class="modal" role="dialog" aria-modal="true" aria-labelledby="calculator-title" hidden>
    <div class="modal-card sm">
      <header class="modal-bar">
        <div class="modal-title" id="calculator-title">Calculator</div>
        <button class="icon-btn" data-close-modal="modal-calculator" aria-label="Close">
          <i data-lucide="x"></i>
        </button>
      </header>
      <div class="calculator">
        <input id="calc-display" class="calc-display" type="text" inputmode="decimal" readonly />
        <div class="calc-grid">
          <button data-calc="C" class="btn calc-btn alt">C</button>
          <button data-calc="(" class="btn calc-btn">(</button>
          <button data-calc=")" class="btn calc-btn">)</button>
          <button data-calc="/" class="btn calc-btn alt">√∑</button>

          <button data-calc="7" class="btn calc-btn">7</button>
          <button data-calc="8" class="btn calc-btn">8</button>
          <button data-calc="9" class="btn calc-btn">9</button>
          <button data-calc="*" class="btn calc-btn alt">√ó</button>

          <button data-calc="4" class="btn calc-btn">4</button>
          <button data-calc="5" class="btn calc-btn">5</button>
          <button data-calc="6" class="btn calc-btn">6</button>
          <button data-calc="-" class="btn calc-btn alt">‚àí</button>

          <button data-calc="1" class="btn calc-btn">1</button>
          <button data-calc="2" class="btn calc-btn">2</button>
          <button data-calc="3" class="btn calc-btn">3</button>
          <button data-calc="+" class="btn calc-btn alt">+</button>

          <button data-calc="0" class="btn calc-btn wide">0</button>
          <button data-calc="." class="btn calc-btn">.</button>
          <button data-calc="=" class="btn calc-btn primary">=</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Hidden Receipt for Printing -->
  <div id="receipt" class="receipt" aria-hidden="true"></div>

  <script src="./script.js" defer></script>
</body>
</html>
